# SYSPRO2
Δευτερη Εργασια Προγραμματισμος Συστηματος

# Περιγραφη

Η ασκηση αυτη υλοποιει την λειτουργικοτητα του dropbox μεσω client που αναπαριστονται απο
διεργασιες.

# Λεπτομερειες Υλοποιησης

Εχουμε υλοποιησει τα 3 ερωτηματα που ζητουνται στην γλωσσα C++.Στα αρχεια mirror_client.cpp , Client.cpp/.hpp υλοποιειται η λειτουργικοτητα του mirror_client.Εκτελειται ατερμονος βρογχος στον οποιο καλουνται οι συναρτησεις detectNewID , checkProcessess , restartProcesses .Ο ατερμονος βρογχος σταματαει οταν ληφθει σημα SIGINT /SIGQUIT.


## Client.cpp/.hpp
### detectNewID()

Η detectNewID διαβαζει ολα τα περιεχομενα του common directory και τα αποθηκευει σε ενα στατικο πινακα .Επειτα ταξινομει το πινακα αυτο με κληση της qsort και ελεγχει διαφορες μεταξυ του τωρινου φακελου και του νεο στιγμιοτυπου

### checkProcesses()

Η checkProcesses καλει την waitpid(WNOHANG) για ολες τις διεργασιες παιδια απελευθερωνοντας ετσι τους πορους που καταλαμβανουν.Τα παιδια αποθηκευονται σε μια λιστα που υλοποιειται στα αρχεια pidlist.cpp/.hpp.

### restartProcesses()

Η restartProcesses() ελεγχει αν υπαρχει pid στην global μεταβλητη -που τιθεται απο το σημα SIGUSR1 - failpid αν ναι το βρισκει στην λιστα και κανει restart τις διεργασιες .

## Παρατηρησεις

Δεν δημιουργουμε ξεχωριστη διεργασια που κανει το καθαρισμο οταν φευγει ενας χρηστης .Αντι αυτου καλουμε την system.

## Compile

    make all

Γιατρακος Γεωργιος
ΑΜ : 1115 2016 00 036
